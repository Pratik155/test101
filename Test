import plotly.express as px
import pandas as pd

# Sample data
data = {
    'BankProducts': ['Savings', 'Checking', 'Credit Card', 'Loan'],
    'resolvedconv_num': [120, 90, 150, 80],
    'unresolvedconv_num': [15, 10, 25, 5]
}

df = pd.DataFrame(data)

# Melt the DataFrame to have 'resolvedconv_num' and 'unresolvedconv_num' in one column
df_melted = pd.melt(df, id_vars='BankProducts', var_name='Type', value_name='Number of Conversations')

# Plotting the bubble chart
fig = px.scatter(df_melted, x='BankProducts', y='Number of Conversations', color='Type',
                 size='Number of Conversations', template='plotly_white',
                 title='Resolved and Unresolved Conversations by Bank Products',
                 labels={'BankProducts': 'Bank Products', 'Number of Conversations': 'Number of Conversations', 'Type': 'Type'}
                 )

# Update x-axis tick angle for better readability
fig.update_layout(xaxis=dict(tickangle=45))

fig.show()
